# -- ApplicationSet name
name: 'pr-review'

# -- Namespace of ArgoCD controller is deployed
namespace: 'argocd'

# -- GitHub repo Organization / username
owner: 'saidsef'

# -- GitHub label to filter PRs that you want to target
label: 'preview'

# -- Repository path where deployment files are located
path: 'deployment'

# -- List of repo names and override images for preview environment
# to dynamically pass the branch of the pull request head use '{{branch}}' variable
# see: https://argocd-applicationset.readthedocs.io/en/stable/Generators-Pull-Request/#template
repos:
  - name: node-webserver
    images:
    - 'docker.io/saidsef/node-webserver:{{branch}}'
  - name: alpine-jenkins-dockerfile
    path: 'deployment/preview'
  - name: aws-kinesis-local
    images:
    - 'docker.io/saidsef/aws-kinesis-local:{{branch}}'
  - name: aws-dynamodb-local
    images:
    - 'docker.io/saidsef/aws-dynamodb-local:{{branch}}'
  - name: tika-document-to-text
    path: 'deployment/preview'

# -- GitHub secrets to use for API polling
secretName: ''
secretKey: ''

# -- GitHub polling rate (seconds)
requeueAfterSeconds: 500

# -- ArgoCD server address
server: 'https://kubernetes.default.svc'

# -- ArgoCD Slack notification channel
notificationChannel: 'argocd'

# -- Should kustomize be enabled
kustomize:
  enabled: true

# -- TODO: Implement
helm:
  enabled: false
